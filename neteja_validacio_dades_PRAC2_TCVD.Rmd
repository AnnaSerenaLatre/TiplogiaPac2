---
title: 'Tipologia i cilce de vida de dades - PRAC 2  : Neteja i validació de dades.'
author: "Autors: Anna Serena Latre i  Xavier Jorda Murria"
date: "Maig 2019"
output:
  html_document:
    highlight: default
    number_sections: yes
    theme: cosmo
    toc: yes
    toc_depth: 2
    includes:
      in_header: 75.584-PEC-header.html
  word_document: default
  pdf_document:
    highlight: zenburn
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(eval=T, echo=T)
```



```{r load_libraries, include=FALSE}
library(knitr)
library(dplyr)
```

# Descripció del dataset. Perquè és important i quina pregunta/problema pretén respondre?

<center>

__CARACTERÍSTIQUES DEL DATASET__

</center>

***Train.csv***  60KB

Dataset dimension: 891 rows x  12 columns

***Test.csv*** 28 KB

Dataset dimension: 418 rows x 11 columns

Variables en les columnes: 

  * __PassengerID :__ numer assignat al passatger. Tipus: numèric. [0-891]
  * __Survived :__ supervivent =1, no supervivent = 0. Tipus: numèric.  [1,0]
  * __Survived :__ supervivent =1, no supervivent = 0. Tipus: numèric.  [1,0]
  * __Pclass :__ Tipus de viatge. Tipus: numèric. [1,2,3]
  * __Name :__ Nom del passatger. Tipus char. 
  * __Sex :__ sexe dels passatgers; Masculí ‘male’ i Femení ‘female’. Tipus: char. 
  * __Age :__ edat dels passatgers. Tipus : float. [0-80]
  * __Sibsp :__ casat o bé amb canalla en el vaixell. Tipus : numèric. [0,1,2,3,4,5,8]
  * __Parch :__ nombre de parents o bé canalla abord. Tipus : numèric. [0,1,2,3,4,5,6]
  * __Ticket :__ Número del bitllet. Tipus char.
  * __Fare :__ Tarifa del bitllet. Tipus: float. [0-513]
  * __Cabin :__ cabina assignada al passatger. Tipus : char. [A, B,C,D,E,F]
  * __Embarked :__ port d’embarcació. Tipus : char. [‘C’,’Q’,’S’]

En el datset test la variable classe Survived està omesa. 


# Integració i selecció de les dades d’interès a analitzar

En aquest apartat es carreguen les dades del fitxer train.csv 
```{r, echo=TRUE}
# read data
data <- read.csv("./input_data/train.csv",header=T,sep=",",dec=".")
attach(data)
str(data)
summary(data)
```
Aquest dataSet (data) conté  `r nrow(data)` files i  `r ncol(data)` variables. 

```{r, echo=TRUE}
# Tipo de data assignad a cada variable
sapply(data, function(x) class(x))
```

A continuació simplificarem el data set eliminant les columnes irrellevants per la finalitat de l'estudi.
```{r, echo=TRUE}
# Tipo de data assignad a cada variable
data <- data %>% select(-one_of(c("PassengerId", "Name", "Ticket")))
```

Canviem el tipus de la variable Age a integer
```{r, echo=TRUE}
# Tipo de data assignad a cada variable
data$Age <- lapply(data$Age, as.integer)
data$Age <- as.integer(unlist(data1$Age))
sapply(data, function(x) class(x))

```

@TODO:
INTEGRACIÓ
    1. Les variables age i fare han d’anar sense decimals, passen de float a integer.
  (Age fet)
  ( perque fare??)
    2. Conversió de la variable sex a factorial.
  (sex ja es un factorial)
    3. Supressió de les variables nom del passatger, número del bitllet i del passengerID. 
  (Fet)
    4. Simplificació dels dígits en alfabètics en la variable i factorialització. 
    5. Simpllificació de la variable Survived de integer (0,1) a factor (YES, NO)

# Neteja de les dades.

@TODO:
NETEJA DE DADES
    1. Duplicitat en les dades.
    2. Valoració i tractament de la inconsistència de les dades.
    3. Valors atípics: variables quantitatives.
	Boxplot
	Taula d’estimació de tendències centrals de dispersió.
    4. Validesa de les variables: valors NA.
Imputació de valors per KNN usant la distància de Gower amb la informació de totes les variables.  

## Les dades contenen zeros o elements buits? Com gestionaries aquests casos?

## Identificació i tractament de valors extrems.

# Anàlisi de les dades.

@TODO:
ANÀLISI DE LES DADES
Matriu de correlacions
Model de regressió logística:
    • Entrenament del model de regressió logística optimitzador d’R².
Model probabilístic: 
    • Arbres de probabilitats: seqüenciació de les variables segons la matriu de confusió.
    • Probabilitats condicionades. 

## Selecció dels grups de dades que es volen analitzar/comparar (planificació dels anàlisis a aplicar).

## Comprovació de la normalitat i homogeneïtat de la variància.

## Aplicació de proves estadístiques per comparar els grups de dades. En funció de les dades i de l’objectiu de l’estudi, aplicar proves de contrast d’hipòtesis, correlacions, regressions, etc. Aplicar almenys tres mètodes d’anàlisi diferents.

# Representació dels resultats a partir de taules i gràfiques.

# Resolució del problema. A partir dels resultats obtinguts, quines són les conclusions? Els resultats permeten respondre al problema?

# Codi: Cal adjuntar el codi, preferiblement en R, amb el que s’ha realitzat la neteja, anàlisi i representació de les dades. Si ho preferiu, també podeu treballar en Python.



